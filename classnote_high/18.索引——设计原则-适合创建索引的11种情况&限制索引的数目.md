1.数据准备 [数据准备](mysql数据准备.sql) 100w条数据

2.适合创建索引的11种情况
    1)字段的数值有唯一性限制(类似主键索引、唯一性索引;这些索引对于插入的速度损耗可以忽略不计,但对于查找速度提示明显)
    2)频繁作为WHERE查询条件的字段
    3)经常GROUP BY 和 ORDER BY 的列
    4)UPDATE、DELETE的WHERE条件列
    5)DISTINCT字段需要创建索引
    6)多表JOIN连接操作时,创建索引注意事项
        首先,连接表的数量尽量不要超过3张,因为每增加一张表就相当于增加了一次嵌套的循环,数量级的增长会非常快,严重影响查询的效率
        其次,对WHERE条件创建索引,因为WHERE才是对数据条件的过滤;如果在数据量非常大的情况下,没有WHERE条件过滤是非常可怕的
        最后,对用于连接的字段创建索引,并且该字段在多张表中的类型必须一致;比如course_id在student_info表和course表中都
      为int(11)类型,而不能一个为int,另一个为varchar类型
    7)使用列的类型小的创建索引————这里说的类型大小指的就是该类型表示的数据范围的大小
        数据类型越小,在查询时进行的比较操作越快
        数据类型越小,索引占用的存储空间就越少,在一个数据页内就可以放下更多的记录,从而减少磁盘I/O带来的性能损耗,也意味着可以把
      更多的数据存在内存中,从而加快读写效率
    8)使用字符串的前缀创建索引
        使用前缀就需要考虑一个问题,即取多长的前缀比较合适,这里可以参考以下公式:
        - select count(distinct left(列名,索引长度)) / count(*)   结果越大,证明重复率越低
        - select count(distinct left(address,10)) / count(*)  
        使用前缀创建索引也存在一个对于排序的影响
            假设有10个元素的前缀完全一样,那么如果要对这10条数据进行一个排序的话,实际上当前的前缀索引是没有意义的,
          即[使用索引前缀的方式无法支持使用索引排序,智能使用文件排序]
    9)区分度高(散列性高)的列适合作为索引
        列的基数指的是某一列中不重复数据的个数,比方说某个列包含值2,5,8,2,5,8,2,5,8,虽然是有9条记录,但是该列的基数却是3,
      也就是说,在记录行数一定的情况下,列的基数越大,该列中的值越分散;列的基数越小,该列中的值越集中;通过我们会选择基数大的列
      来建立索引;这样听起来会有些复杂,实际上就是选择一些不容易出现重复值的列来作为索引,唯一性索引如此,不要用性别之类的列做
      索引也是一个道理;
        我们可以用公式:
        select count(distinct a) / count(*) 来计算区分度,越接近1越好,一般超过33%就算是比较高效的索引了
    10)使用最频繁的列放到联合索引的左侧,使用联合索引把区分度高的列放在前面
    11)在多个字段都要创建索引的情况下,联合索引优于单值索引

3.限制索引的数目
    建议单张表索引数量不超过6个,原因:
    1)每个索引都需要占用磁盘空间,索引越多,需要的磁盘空间就越大
    2)索引会影响INSERT、DELETE/UPDATE等语句的性能,因为表中数据更改的同时,索引也会进行调整和更新
    3)优化器在选择如何优化查询时,会根据统一信息,对每个可以用到的索引进行评估,以生成一个最好的执行计划;如果有很多歌索引都可以
    用于查询,会增加MYSQL优化器生成执行计划的时间,降低查询性能